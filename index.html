<!DOCTYPE html>
<html lang="en">
<head>
  <title>Eddie's Currency Converter</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/bootstrap.js"></script>

</head>

<body data-spy="scroll" data-target=".navbar" data-offset="50">

<nav class="navbar navbar-expand-md bg-dark navbar-dark navbar-custom">
  <a class="navbar-brand" href="#"><img src="img/logo/logo-white.png" alt="website logo" width="70"></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse navButtons" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="https://www.pwc.com/us/en/industries/financial-services/fintech/bitcoin-blockchain-cryptocurrency.html#:~:text=Bitcoin%20is%20the%20name%20of,verify%20the%20transfer%20of%20funds." target="blank">ABOUT CRYPTOCURRENCY</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#crypto">CRYPTOCURRENCY</a>
      </li>    
    </ul>
  </div>

  <!-- <form class="form-inline" action="/action_page.php">
    <input class="form-control mr-sm-2" type="text" placeholder="Search">
    <button class="btn btn-success" type="submit">Search</button>
  </form>   -->
</nav>

<div class="container-fluid section1" id="home" align="center">
  <div class="container" style="color: white;">
    <div class="row" style="padding-top: 100px;">
      <div class="col-lg-7" style="align-self: center;">
        <div class="converterHeader">
            <label for="Amount">Amount</label>
            <label for="From">From</label>
            <label for="To">To</label>
          </div>
          <input type="number" name="Amount" value="">
        
          <select class="money1" name="money1">
            <option value="AUD" class= "AUD">AUD</option><option value="BGN"class="BGN">BGN</option>
            <option value="BRL" class="BRL">BRL</option><option value="CAD"class = "CAD">CAD</option>
            <option value="CHF" class = "CHF">CHF</option><option value="CNY"class = "CNY">CNY</option>
            <option value="CZK" class = "CZK">CZK</option><option value="DKK"class = "DKK">DKK</option>
            <option value="EUR"class = "EUR">EURO</option><option value="GBP" class = "GBP">GBP</option>
            <option value="HKD"class = "HKD">HKD</option><option value="HRK"class = "HRK">HRK</option>
            <option value="HUF"class = "HUF">HUF</option><option value="IDR"class = "IDR">IDR</option>
            <option value="ILS"class = "ILS">ILS</option><option value="INR"class = "INR">INR</option>
            <option value="ISK"class = "ISK">ISK</option><option value="JPY"class = "JPY">JPY</option>
            <option value="KRW"class = "KRW">KRW</option><option value="MXN"class = "MXN">MXN</option>
            <option value="MYR"class = "MYR">MYR</option><option value="NOK"class = "NOK">NOK</option>
            <option value="NZD"class = "NZD">NZD</option><option value="PHP"class = "PHP">PHP</option>
            <option value="PLN"class = "PLN">PLN</option><option value="RON"class = "RON">RON</option>
            <option value="RUB"class = "RUB">RUB</option><option value="SEK"class = "SEK">SEK</option>
            <option value="SGD"class = "SGD">SGD</option><option value="THB"class = "THB">THB</option>
            <option value="TRY"class = "TRY">TRY</option><option value="USD"class = "USD" >USD</option>
            <option value="ZAR"class = "ZAR">ZAR</option>
          </select>
          
          <select class="money2" name="money2">
            <option value="AUD" class= "AUD">AUD</option><option value="BGN"class="BGN">BGN</option>
            <option value="BRL" class="BRL">BRL</option><option value="CAD"class = "CAD">CAD</option>
            <option value="CHF" class = "CHF">CHF</option><option value="CNY"class = "CNY">CNY</option>
            <option value="CZK" class = "CZK">CZK</option><option value="DKK"class = "DKK">DKK</option>
            <option value="EUR"class = "EUR">EURO</option><option value="GBP" class = "GBP">GBP</option>
            <option value="HKD"class = "HKD">HKD</option><option value="HRK"class = "HRK">HRK</option>
            <option value="HUF"class = "HUF">HUF</option><option value="IDR"class = "IDR">IDR</option>
            <option value="ILS"class = "ILS">ILS</option><option value="INR"class = "INR">INR</option>
            <option value="ISK"class = "ISK">ISK</option><option value="JPY"class = "JPY">JPY</option>
            <option value="KRW"class = "KRW">KRW</option><option value="MXN"class = "MXN">MXN</option>
            <option value="MYR"class = "MYR">MYR</option><option value="NOK"class = "NOK">NOK</option>
            <option value="NZD"class = "NZD">NZD</option><option value="PHP"class = "PHP">PHP</option>
            <option value="PLN"class = "PLN">PLN</option><option value="RON"class = "RON">RON</option>
            <option value="RUB"class = "RUB">RUB</option><option value="SEK"class = "SEK">SEK</option>
            <option value="SGD"class = "SGD">SGD</option><option value="THB"class = "THB">THB</option>
            <option value="TRY"class = "TRY">TRY</option><option value="USD"class = "USD" >USD</option>
            <option value="ZAR"class = "ZAR">ZAR</option>
          </select>
          
          <button type="submit" name="button" onclick = "makeConvert()">Convert</button>
          <div class="result">
            <span class="amountInput"> </span><span class="response"><span>
          </div>
          <div class="updatedTime">
          </div>
      </div>
      <div class="col-lg-5">
        <img src="img/landing/rocket-ship.png" alt="image of rocket ship in landing section" class="rocketShip">
      </div>
    </div>
  </div>  
</div>

<div class="topbar-chart iq-chart carousel-custom">
  <div class="container-fluid">
      <div class="row">
          <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>

          <script>
          baseUrl = "https://widgets.cryptocompare.com/";
          var scripts = document.getElementsByTagName("script");
          var embedder = scripts[scripts.length - 1];
          var cccTheme = { "General": { "enableMarquee": true } };
          (function() {
              var appName = encodeURIComponent(window.location.hostname);
              if (appName == "") { appName = "local"; }
              var s = document.createElement("script");
              s.type = "text/javascript";
              s.async = true;
              var theUrl = baseUrl + 'serve/v3/coin/header?fsyms=BTC,ETH,XMR,LTC,DASH&tsyms=BTC,USD,CNY,EUR';
              s.src = theUrl + (theUrl.indexOf("?") >= 0 ? "&" : "?") + "app=" + appName;
              embedder.parentNode.appendChild(s);
          })();
          </script>
      </div>
  </div>
</div>

<div class="container-fluid" id="crypto" style="height: 900px; background: grey;"></div>

<script type="text/javascript">
    
    let json
    let Selector1
    let Selector2

    function makeConvert(){
      const httpRequest = new XMLHttpRequest();
      httpRequest.onload = function(){
        if (httpRequest.status === 200){
          json = JSON.parse(httpRequest.responseText);
        }else {
          alert('There is an error')}
          let amount = document.querySelector("input").value
          if(amount>0){
        document.querySelector(".updatedTime").innerHTML ="Updated on:"+json.date;
          let selector1 = document.querySelector(".money1").value
          let selector2 = document.querySelector(".money2").value
          for(v in json.rates){
            if (selector1 === v){
              Selector1 = json.rates[v]
              break}
            else{
            Selector1 = 1;}
          }
          for(v in json.rates){
            if(selector2 === v){
              Selector2 = json.rates[v]
              break}
            else {
              Selector2 = 1;
            }
          }
          let selector = Selector2/Selector1;
          let result = amount*selector
          document.querySelector(".response").innerHTML = selector2 +" "+ result;
        }}
      httpRequest.open('GET','https://api.exchangeratesapi.io/latest')
      httpRequest.send()
    }

  </script>
</body>
</html>